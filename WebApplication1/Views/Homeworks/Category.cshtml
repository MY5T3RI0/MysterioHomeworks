@model IEnumerable<WebApplication1.Models.ViewModels.Homeworks.WorkVM>

@{
    ViewBag.Title = ViewBag.CategoryName;
}

    <h2>@ViewBag.CategoryName</h2>

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Description)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Date)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CategoryName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ImageName)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Description)
        </td>
        <td>
            @{string date = $"{item.Date.Day}.{item.Date.Month}.{item.Date.Year} ({item.Date.DayOfWeek})"; }
            @Html.DisplayFor(modelItem => date)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.CategoryName)
        </td>
        <td>
            <a href="/shop/product-details/@item.Slug">
                @if (string.IsNullOrWhiteSpace(item.ImageName))
                {
                    <img src="~/Content/img/no_image.png" />
                }
                else
                {
                    <img src="/Images/Uploads/Works/@item.Id/Thumbs/@item.ImageName" alt="Work image" />
                }
            </a>
        </td>
        <td>
            @Html.ActionLink("Details", "work-details", "Homeworks", new { id = item.Id }, null)
        </td>
    </tr>
}

</table>
